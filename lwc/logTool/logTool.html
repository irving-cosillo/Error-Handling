<!-- sldsValidatorIgnore -->
<template>
    <lightning-card>
        <div class="slds-var-p-horizontal_large slds-var-p-bottom_small">
            <c-log-search
                id={id}
                user-name={userName}
                profile-name={profileName}
                type={type}
                severity={severity}
                custom-app={customApp}
                start-date-time={startDateTime}
                records-per-page={recordsPerPage}
                number-of-pages={numberOfPages}
                selected-rows={selectedRows}
                ondeleteselected={deleteSelected}
                ondeleteall={deleteAll}
                onrefresh={refresh}
                onsearch={search}>
            </c-log-search>

            <lightning-card>
                <lightning-spinner 
                    if:true={loading}
                    variant="brand"
                    size="large"
                    alternative-text="Loading...">
                </lightning-spinner>

                <lightning-datatable
                    if:true={data} 
                    key-field="id"
                    data={data}
                    columns={columns}
                    onrowaction={handleRowAction}
                    onrowselection={handleRowSelection}
                    default-sort-direction={defaultSortDirection}
                    sorted-direction={sortDirection}
                    sorted-by={sortBy}
                    onsort={handleSort}>
                </lightning-datatable>

                <c-log-pagination
                    if:true={numberOfPages}
                    page-number={pageNumber}
                    number-of-pages={numberOfPages}
                    onupdatepagenumber={updatePageNumber}>
                </c-log-pagination>
            </lightning-card>
        </div>
    </lightning-card>

    <div class="slds-var-m-bottom_medium"></div>

    <lightning-card if:true={selectedLog}>
        <div class="slds-var-p-horizontal_large slds-var-p-bottom_small">
            <c-log-information
                selected-log={selectedLog}>
            </c-log-information>
        </div>
    </lightning-card>
</template>